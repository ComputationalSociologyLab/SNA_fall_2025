[
  {
    "objectID": "W4_presentation.html#working-with-ego-network-data",
    "href": "W4_presentation.html#working-with-ego-network-data",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Working with Ego Network Data",
    "text": "Working with Ego Network Data\n\nEgo network data are based on a sample of individuals and are commonly used in the social sciences.\nEach respondent (ego) reports on the people (alters) they are connected to, providing the local network around the focal respondent.\nEgo network data offer only pieces of the whole network"
  },
  {
    "objectID": "W4_presentation.html#working-with-ego-network-data-1",
    "href": "W4_presentation.html#working-with-ego-network-data-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Working with Ego Network Data",
    "text": "Working with Ego Network Data\n\nEgo network data can be structured in a number of ways but will generally have 4 kinds of information:\n\ndemographic, behavioral, etc. information on the egos\ndemographic, behavioral, etc. information on the named alters\ninformation about the relationship between ego and alter\ninformation about the relationships between the alters"
  },
  {
    "objectID": "W4_presentation.html#working-with-ego-network-data-2",
    "href": "W4_presentation.html#working-with-ego-network-data-2",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Working with Ego Network Data",
    "text": "Working with Ego Network Data\n\nWork with ego network data from the GSS(General Social Survey)\n\na file with the ego attributes\na file with the alter(other) attributes\na file with the alter-alter ties\n\n\n\n# a file with the ego attributes\nurl1 &lt;- \"https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/gss1985_ego_dat.csv\"\n\nego_dat &lt;- read.csv(file = url1, stringsAsFactors = F)"
  },
  {
    "objectID": "W4_presentation.html#load-dataset-for-ego-attribute",
    "href": "W4_presentation.html#load-dataset-for-ego-attribute",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Load Dataset for Ego Attribute",
    "text": "Load Dataset for Ego Attribute\nFirst 10 rows of the ego data frame\n\n# CASEID : unique ID for each respondent\n# NUMGIVEN : the number of alters named\nego_dat[1:10, c(\"CASEID\", \"AGE\", \"EDUC\", \"RACE\", \"SEX\", \"HAPPY\", \"NUMGIVEN\")]\n\n     CASEID AGE EDUC  RACE    SEX HAPPY NUMGIVEN\n1  19850001  33   16 white   male     2        6\n2  19850002  49   19 white   male     2        6\n3  19850003  23   16 white female     2        5\n4  19850004  26   20 white female     2        5\n5  19850005  24   17 white female     2        5\n6  19850006  45   17 white   male     2        4\n7  19850007  44   18 white female     2        6\n8  19850008  56   12 white female     2        5\n9  19850009  85    7 white female     2        2\n10 19850010  65   12 white female     2        2"
  },
  {
    "objectID": "W4_presentation.html#load-dataset-for-ego-attribute-1",
    "href": "W4_presentation.html#load-dataset-for-ego-attribute-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Load Dataset for Ego Attribute",
    "text": "Load Dataset for Ego Attribute\n\n# check if there is empty values\nna_yn &lt;-!is.na(ego_dat$NUMGIVEN)\n# exclude the emply values\nego_dat &lt;- ego_dat[na_yn, ]"
  },
  {
    "objectID": "W4_presentation.html#load-dataset-for-alter-attribute",
    "href": "W4_presentation.html#load-dataset-for-alter-attribute",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Load Dataset for Alter Attribute",
    "text": "Load Dataset for Alter Attribute\n\nurl2 &lt;- \"https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/gss1985_alter_dat.csv\"\n\nalter_dat &lt;- read.csv(file = url2, stringsAsFactors = F)"
  },
  {
    "objectID": "W4_presentation.html#load-dataset-for-alter-attribute-1",
    "href": "W4_presentation.html#load-dataset-for-alter-attribute-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Load Dataset for Alter Attribute",
    "text": "Load Dataset for Alter Attribute\n\n# each row corresponds to a different named alter\n# Each alter is denoted by an ALTERID (CASEID : ALTERID = 1:N)\n# KIN : 1(True) if ego is relatives with that alter\n# respondent 1 (CASEID = 19850001) names 5 alters. The first alter (ALTERID = 1) is 32, has 18 years of education, and is not kin to ego.\nalter_dat[1:10, c(\"CASEID\", \"ALTERID\", \"AGE\", \"EDUC\", \"RACE\", \"SEX\", \"KIN\")] \n\n     CASEID ALTERID AGE EDUC  RACE    SEX KIN\n1  19850001       1  32   18 white   male   0\n2  19850001       2  29   16 white female   1\n3  19850001       3  32   18 white   male   0\n4  19850001       4  35   16 white   male   1\n5  19850001       5  29   13 white female   0\n6  19850002       1  42   12 white female   1\n7  19850002       2  44   18 white   male   0\n8  19850002       3  45   16 white   male   0\n9  19850002       4  40   12 white female   0\n10 19850002       5  50   18 white   male   0"
  },
  {
    "objectID": "W4_presentation.html#load-dataset-for-alter-alter-tie",
    "href": "W4_presentation.html#load-dataset-for-alter-alter-tie",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Load Dataset for Alter-Alter Tie",
    "text": "Load Dataset for Alter-Alter Tie\n\nurl3 &lt;- \"https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/gss1985_alteralter_dat.csv\"\n\nalteralter_dat &lt;- read.csv(file = url3)"
  },
  {
    "objectID": "W4_presentation.html#load-dataset-for-alter-alter-tie-1",
    "href": "W4_presentation.html#load-dataset-for-alter-alter-tie-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Load Dataset for Alter-Alter Tie",
    "text": "Load Dataset for Alter-Alter Tie\n\nthe ties between the named alters\n\n\n# `CASEID` : relevant ego \n# `ALTER1` : first alter in the dyad\n# `ALTER2` : second alter in the dyad\n# `Weight` : nature of the relationship (1 : alters know each other, 2: especially close)\nalteralter_dat[1:10, ]\n\n     CASEID ALTER1 ALTER2 WEIGHT\n1  19850001      1      2      2\n2  19850001      1      3      1\n3  19850001      1      4      1\n4  19850001      1      5      1\n5  19850001      2      3      2\n6  19850001      2      4      2\n7  19850001      2      5      2\n8  19850001      3      4      1\n9  19850001      3      5      1\n10 19850001      4      5      1"
  },
  {
    "objectID": "W4_presentation.html#lets-make-ego-network",
    "href": "W4_presentation.html#lets-make-ego-network",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Let‚Äôs make Ego Network",
    "text": "Let‚Äôs make Ego Network\n\ntransforming traditional survey data into something that has the structure of a network ü§Øü§Øü§Øü§Øü§Ø\nüçÄüçÄegorüçÄüçÄ package has made the task of constructing ego networks from survey data much easier\n\n\n# load a package for constructing ego network\nlibrary(egor)"
  },
  {
    "objectID": "W4_presentation.html#lets-make-ego-network-1",
    "href": "W4_presentation.html#lets-make-ego-network-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Let‚Äôs make Ego Network",
    "text": "Let‚Äôs make Ego Network\n\nconstruct an egor object from our survey data\n\n\n# `egor()` : input the data using three separate files.\n\negonetlist &lt;-  egor(alters = alter_dat, # alter attributes data frame\n                    egos = ego_dat, # ego attributes data frame\n                    aaties = alteralter_dat, # alter-alter tie data frame\n                    alter_design = list(max = 5), # list of arguments to specify nomination information from survey\n                    # list of variable names corresponding to key columns\n                    ID.vars = list(ego = \"CASEID\", alter =\"ALTERID\", \n                                   source = \"ALTER1\", target = \"ALTER2\") \n                    )"
  },
  {
    "objectID": "W4_presentation.html#calculate-summary-statistics",
    "href": "W4_presentation.html#calculate-summary-statistics",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Calculate Summary Statistics",
    "text": "Calculate Summary Statistics\n\nWe will begin with density, showing the proportion of alter-alter ties that exist in each ego network\nBy the way, What is the definition of density?ü§®"
  },
  {
    "objectID": "W4_presentation.html#calculate-summary-statistics-1",
    "href": "W4_presentation.html#calculate-summary-statistics-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Calculate Summary Statistics",
    "text": "Calculate Summary Statistics\n\na measure for overall level of connection among nodes in a network\n(m) = number of edges\n\n(n) = number of nodes\n\\[\nDentisy = \\frac{2m}{n(n-1)}\n\\]\n\n\n# use `ego_density()` function\ndens &lt;- ego_density(egonetlist)"
  },
  {
    "objectID": "W4_presentation.html#calculate-summary-statistics-2",
    "href": "W4_presentation.html#calculate-summary-statistics-2",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Calculate Summary Statistics",
    "text": "Calculate Summary Statistics\n\n# we calculated the density of every ego network\nhead(dens)\n\n# A tibble: 6 √ó 2\n    .egoID density\n     &lt;int&gt;   &lt;dbl&gt;\n1 19850001   1    \n2 19850002   0.8  \n3 19850003   0.6  \n4 19850004   0.6  \n5 19850005   1    \n6 19850006   0.667"
  },
  {
    "objectID": "W4_presentation.html#plotting-ego-networks",
    "href": "W4_presentation.html#plotting-ego-networks",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Plotting Ego Networks",
    "text": "Plotting Ego Networks\n\ngo over how to plot the ego networks using packages like igraph\n\n\nlibrary(igraph)"
  },
  {
    "objectID": "W4_presentation.html#plotting-ego-networks-1",
    "href": "W4_presentation.html#plotting-ego-networks-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Plotting Ego Networks",
    "text": "Plotting Ego Networks\n\nconvert the egor object to igraph objects.\n\n\nigraph_nets &lt;- as_igraph(egonetlist, include.ego = TRUE)"
  },
  {
    "objectID": "W4_presentation.html#plotting-ego-networks-2",
    "href": "W4_presentation.html#plotting-ego-networks-2",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Plotting Ego Networks",
    "text": "Plotting Ego Networks\nNow, let‚Äôs take a look at the first three ego networks.\n\nigraph_nets[1:3] \n\n$`19850001`\nIGRAPH 4f166e9 UN-- 6 15 -- \n+ attr: .egoID (g/n), name (v/c), AGE (v/n), EDUC (v/n), RACE (v/c),\n| SEX (v/c), RELIG (v/c), AGE_CATEGORICAL (v/c), EDUC_CATEGORICAL\n| (v/c), TALKTO (v/n), SPOUSE (v/n), KIN (v/n), WEIGHT (e/n)\n+ edges from 4f166e9 (vertex names):\n [1] 1--2   1--3   1--4   1--5   2--3   2--4   2--5   3--4   3--5   4--5  \n[11] 1--ego 2--ego 3--ego 4--ego 5--ego\n\n$`19850002`\nIGRAPH 71340d6 UN-- 6 13 -- \n+ attr: .egoID (g/n), name (v/c), AGE (v/n), EDUC (v/n), RACE (v/c),\n| SEX (v/c), RELIG (v/c), AGE_CATEGORICAL (v/c), EDUC_CATEGORICAL\n| (v/c), TALKTO (v/n), SPOUSE (v/n), KIN (v/n), WEIGHT (e/n)\n+ edges from 71340d6 (vertex names):\n [1] 1--2   1--3   1--4   1--5   2--4   3--4   3--5   4--5   1--ego 2--ego\n[11] 3--ego 4--ego 5--ego\n\n$`19850003`\nIGRAPH 6ad564c UN-- 6 11 -- \n+ attr: .egoID (g/n), name (v/c), AGE (v/n), EDUC (v/n), RACE (v/c),\n| SEX (v/c), RELIG (v/c), AGE_CATEGORICAL (v/c), EDUC_CATEGORICAL\n| (v/c), TALKTO (v/n), SPOUSE (v/n), KIN (v/n), WEIGHT (e/n)\n+ edges from 6ad564c (vertex names):\n [1] 1--2   1--3   1--4   2--3   2--4   3--4   1--ego 2--ego 3--ego 4--ego\n[11] 5--ego"
  },
  {
    "objectID": "W4_presentation.html#plotting-ego-networks-3",
    "href": "W4_presentation.html#plotting-ego-networks-3",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Plotting Ego Networks",
    "text": "Plotting Ego Networks\nlet‚Äôs plot a couple of example networks, focusing on the first 3 ego networks.\n\n# set 1 row, 3 column grid for visualization layout\npar(mfrow = c(1, 3))\n# draw graphs in igraph_nets variable\npurrr::walk(igraph_nets[1:3], plot)"
  },
  {
    "objectID": "W4_presentation.html#plotting-ego-networks-4",
    "href": "W4_presentation.html#plotting-ego-networks-4",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Plotting Ego Networks",
    "text": "Plotting Ego Networks\n\nLet‚Äôs color the nodes based on gender\nso we can get a sense of the level of gender homogeneity in these ego networks\n\n\n# somewhat more difficult task than with a single network\n# defind a function to set the color for each network\nplotfunc_colorgender &lt;- function(nets){ \n  # Arguments: \n  # nets: ego network of interest\n  \n  # extracting the attribute from the ego network:\n  cols &lt;- vertex_attr(nets, \"SEX\") \n\n  # now we use an ifelse statement to set color,\n  # light sky blue if gender equals female, blue otherwise:\n  cols &lt;- ifelse(cols == \"female\", \"lightskyblue\", \"blue\")\n\n  # plotting ego network with nodes colored based on gender:\n  plot(nets, vertex.color = cols) \n}"
  },
  {
    "objectID": "W4_presentation.html#plotting-ego-networks-5",
    "href": "W4_presentation.html#plotting-ego-networks-5",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Plotting Ego Networks",
    "text": "Plotting Ego Networks\n\nNow let‚Äôs run plotfunc_colorgender() over the first three ego networks.\n\n\n# third ego network is homogenous in terms of gender\n# the first two are quite heterogeneous\n# first ego network is complete\npar(mfrow = c(1, 3))\npurrr::walk(igraph_nets[1:3], plotfunc_colorgender)"
  },
  {
    "objectID": "W4_presentation.html#triadic-processes",
    "href": "W4_presentation.html#triadic-processes",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triadic Processes",
    "text": "Triadic Processes\n\nwork primarily with the sna package [@sna], so let‚Äôs start by loading that package.\n\n\nlibrary(sna)"
  },
  {
    "objectID": "W4_presentation.html#triadic-processes-1",
    "href": "W4_presentation.html#triadic-processes-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triadic Processes",
    "text": "Triadic Processes\n\ndownload three datasets(1. friends 2. advice 3. attributes)\n\n\nurl1 &lt;- \"https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/krackhardt_advice.csv\"\nurl2 &lt;- \"https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/krackhardt_attributes.csv\"\nurl3 &lt;- \"https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/krackhardt_friendship.csv\"\n\nadvice_data_frame &lt;- read.csv(file = url1) \nattributes &lt;- read.csv(file = url2)\nfriends_data_frame &lt;- read.csv(file = url3)\n\n# extract only Ture relationship\nadvice_edgelist &lt;- advice_data_frame[advice_data_frame$advice_tie == 1, ]\nfriends_edgelist &lt;- friends_data_frame[friends_data_frame$friendship_tie == 1, ]"
  },
  {
    "objectID": "W4_presentation.html#triadic-processes-2",
    "href": "W4_presentation.html#triadic-processes-2",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triadic Processes",
    "text": "Triadic Processes\nLet‚Äôs take a look at the dataset, one by one\n\n# ego 1 said he or she gets advice from alter 2,4,8,16,21\nhead(advice_edgelist)\n\n   ego alter advice_tie\n2    1     2          1\n4    1     4          1\n8    1     8          1\n16   1    16          1\n18   1    18          1\n21   1    21          1"
  },
  {
    "objectID": "W4_presentation.html#triadic-processes-3",
    "href": "W4_presentation.html#triadic-processes-3",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triadic Processes",
    "text": "Triadic Processes\nLet‚Äôs take a look at the dataset, one by one\n\n# ego 1 said he or she is friend with alter 2,4,8,12,16\nhead(friends_edgelist)\n\n   ego alter friendship_tie\n2    1     2              1\n4    1     4              1\n8    1     8              1\n12   1    12              1\n16   1    16              1\n22   2     1              1"
  },
  {
    "objectID": "W4_presentation.html#triadic-processes-4",
    "href": "W4_presentation.html#triadic-processes-4",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triadic Processes",
    "text": "Triadic Processes\nLet‚Äôs take a look at the dataset, one by one\n\n# attributes for each resopondent\nhead(attributes)\n\n  ids AGE TENURE LEVEL DEPT\n1   1  33  9.333     3    4\n2   2  42 19.583     2    4\n3   3  40 12.750     3    2\n4   4  33  7.500     3    4\n5   5  32  3.333     3    2\n6   6  59 28.000     3    1"
  },
  {
    "objectID": "W4_presentation.html#triadic-processes-5",
    "href": "W4_presentation.html#triadic-processes-5",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triadic Processes",
    "text": "Triadic Processes\n\nWe now construct the network , as before, using the network() function.\n\n\nkrack_friendship &lt;-  network(x = friends_edgelist, directed = T, \n                             vertices = attributes)\nkrack_advice &lt;- network(x = advice_edgelist, directed = T, \n                        vertices = attributes)"
  },
  {
    "objectID": "W4_presentation.html#triad-census",
    "href": "W4_presentation.html#triad-census",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\n\nThe triad census captures the distribution of triads across 16 basic types, representing different patterns of interaction between the three nodes\nThere are 16 different triad types:"
  },
  {
    "objectID": "W4_presentation.html#triad-census-1",
    "href": "W4_presentation.html#triad-census-1",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\n\ncompare the triad counts across the two network relations, to see if the patterns differ for friendship compared to advice\n\n\n# `triad.census()` function outputs the counts in each triad type\ntriads_advice &lt;- triad.census(krack_advice) \ntriads_advice\n\n     003 012 102 021D 021U 021C 111D 111U 030T 030C 201 120D 120U 120C 210 300\n[1,]  74 153  90  160   86   49   59  101  190    2  72   62   78   17 107  30"
  },
  {
    "objectID": "W4_presentation.html#triad-census-2",
    "href": "W4_presentation.html#triad-census-2",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\nAnd now for friendship :\n\n# `triad.census()` function outputs the counts in each triad type\ntriads_friendship &lt;- triad.census(krack_friendship)\ntriads_friendship\n\n     003 012 102 021D 021U 021C 111D 111U 030T 030C 201 120D 120U 120C 210 300\n[1,] 376 366 143  114   34   35   39  101   23    0  20   16   25    9  23   6"
  },
  {
    "objectID": "W4_presentation.html#triad-census-3",
    "href": "W4_presentation.html#triad-census-3",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\nLet‚Äôs make a table to make the comparisons easier.\n\ntriad_data &lt;- data.frame(advice = t(triads_advice), \n                         friendship = t(triads_friendship))"
  },
  {
    "objectID": "W4_presentation.html#triad-census-4",
    "href": "W4_presentation.html#triad-census-4",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\n\ntriad_data\n\n     advice friendship\n003      74        376\n012     153        366\n102      90        143\n021D    160        114\n021U     86         34\n021C     49         35\n111D     59         39\n111U    101        101\n030T    190         23\n030C      2          0\n201      72         20\n120D     62         16\n120U     78         25\n120C     17          9\n210     107         23\n300      30          6"
  },
  {
    "objectID": "W4_presentation.html#triad-census-5",
    "href": "W4_presentation.html#triad-census-5",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\n\none striking difference : The advice network has a much higher proportion of 030T triads than the friendship network"
  },
  {
    "objectID": "W4_presentation.html#triad-census-6",
    "href": "W4_presentation.html#triad-census-6",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\n\nThe underlying hierarchy in this advice relation thus runs: A to C to B, as A influences B and C, C influences only B and B influences no one\nSuch a pattern of hierarchy does not emerge as clearly in the friendship network"
  },
  {
    "objectID": "W4_presentation.html#triad-census-7",
    "href": "W4_presentation.html#triad-census-7",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Triad Census",
    "text": "Triad Census\n\nThe triads associated with transitive dominance relations are more likely to be present in the advice network than the friendship network \nNote that we need to be a little careful in pushing that conclusion too far, as the networks have different levels of density that may be driving the differences we observe in the triad count"
  },
  {
    "objectID": "W4_presentation.html#done",
    "href": "W4_presentation.html#done",
    "title": "W4. Ego, Dyads and Triads",
    "section": "Done!",
    "text": "Done!\n\nPlease check KLMS for the assignment of this week(til Friday)\nIf you want to study in-depth knowledge for the ego network, dyad, and triad network, please check this week [Option] in the assignment"
  }
]